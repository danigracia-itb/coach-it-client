import{u as s,f as c,g as l,G as r,M as a,B as u,C as m}from"./index-299e80f0.js";const y={getAthletes:async()=>{const e=s(),o=c(),t=l();t.setLoading(!0);try{const n=await r.get("coach/get-athletes/"+e.user.id);t.setLoading(!1),t.setError(!1),o.setAthletes(n.data)}catch(n){console.log(n),t.setLoading(!1),t.setError(!0)}},deleteAthlete:async e=>{const o=c();a.fire({title:"¿Do you want to delete this athlete?",text:"Once eliminated, he will no longer be your athlete, and will have to re-enter your code.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#711bba",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(t=>{t.isConfirmed&&r.delete(`/athlete/no-coach/${e}`).then(()=>{console.log(),a.fire({title:"Deleted",text:"Athlete deleted successfully",icon:"success"}),o.deleteAthlete(e)}).catch(n=>{a.fire({title:"Error 505!",text:"Server error, contact with webmaster for more info",icon:"error"})})})},sendPaymentReminder:async e=>{const o=l(),t=s(),n=e.payments[e.payments.length-1].payment_type;o.setLoading(!0);try{await r.post("send-payment-reminder",{athlete_email:e.email,athlete_name:e.name,coach:t.user.name,date:u(e.payments[e.payments.length-1].date,m(n)),quantity:e.payments[e.payments.length-1].quantity,payment_type:n}),o.setLoading(!1),a.fire({title:"Sended Successfully",text:`Payment reminder sent successfully to ${e.name} for an amount of ${e.payments[0].quantity}€ `,showCancelButton:!0,confirmButtonText:"Confirm",confirmButtonColor:"#711bba"})}catch(i){o.setLoading(!1),console.log(i)}}};export{y as c};
