import{_ as S,f as A,g as w,u as N,h as M,j as P,r as B,x as T,c as o,a as e,e as n,d as D,k as m,l as f,v as I,F as V,m as $,n as q,o as s,s as E,z as F,t as i,A as j,B as z,C as H,b as u,i as L,p as U,q as O,D as Q,E as R,S as Y}from"./index-299e80f0.js";import{c as y}from"./coachController-6aff2776.js";const v=d=>(U("data-v-e1c96985"),d=d(),O(),d),G={class:"mt-5"},J=v(()=>e("h1",{class:"text-center"},"Manage Clients",-1)),K={key:1,class:"d-flex justify-content-start mt-5 mt-md-0"},W={key:0,class:"table table-striped mt-5"},X=v(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Name"),e("th",{scope:"col"},"Last Payment"),e("th",{scope:"col"},"Next Payment"),e("th",{scope:"col"},"Quantity"),e("th",{scope:"col"},"Actions")])],-1)),Z={class:"d-flex gap-3"},tt=["onClick"],et=["onClick"],nt=["onClick"],st=["onClick"],ot={key:1,class:"w-100 mt-5"},at={class:"text-center"},ct={__name:"Manage",setup(d){const a=A(),r=w(),g=N(),b=window.location.host,_=M("");function k(l){Q(a.getAthleteById(l))}function C(l){R(g.id,l).then(c=>{a.addAthletePayment(l,c)})}return P(()=>{a.athletes.length<=0&&y.getAthletes()}),(l,c)=>{const p=B("font-awesome-icon"),x=T("tooltip");return s(),o("div",null,[e("header",G,[J,n(r).loading?(s(),D(Y,{key:0,class:"mt-5"})):m("",!0),n(r).loading?m("",!0):(s(),o("div",K,[f(e("input",{type:"text",id:"searchTerm",class:"form-control w-auto",placeholder:"Search athlete...","onUpdate:modelValue":c[0]||(c[0]=t=>_.value=t)},null,512),[[I,_.value]])]))]),!n(r).loading&&n(a).athletes.length>0?(s(),o("table",W,[X,e("tbody",null,[(s(!0),o(V,null,$(n(a).getFilteredAthletes(_.value),t=>(s(),o("tr",{key:t.id,class:E(t.payments.length>0&&n(F)(t.payments[t.payments.length-1].date)?"table-danger":"")},[e("td",null,i(t.id),1),e("td",null,i(t.name),1),e("td",null,i(t.payments.length>0?n(j)(t.payments[t.payments.length-1].date):"No data"),1),e("td",null,i(t.payments.length>0?n(z)(t.payments[t.payments.length-1].date,n(H)(t.payments[t.payments.length-1].payment_type)):"No data"),1),e("td",null,i(t.payments.length>0?t.payments[t.payments.length-1].quantity:"No data")+"â‚¬ ",1),e("td",Z,[e("button",{class:"btn btn-success",onClick:h=>C(t.id)},[u(p,{icon:"fa-solid fa-add"})],8,tt),e("button",{class:"btn btn-info",onClick:h=>k(t.id)},[u(p,{icon:"fa-solid fa-clock-rotate-left"})],8,et),f((s(),o("button",{class:"btn btn-warning",onClick:h=>n(y).sendPaymentReminder(t)},[u(p,{icon:"fa-solid fa-bell"})],8,nt)),[[x,"Send payment reminder"]]),e("button",{class:"btn btn-danger",onClick:h=>n(y).deleteAthlete(t.id)},[u(p,{icon:"fa-solid fa-trash"})],8,st)])],2))),128))])])):m("",!0),!n(r).loading&&n(a).athletes.length<=0?(s(),o("div",ot,[e("h4",at,[q("You have no athletes, "),e("span",{class:"cursor-pointer text-primary",onClick:c[1]||(c[1]=t=>n(L)(n(b),n(g).id))},"invite your first athlete")])])):m("",!0)])}}},dt=S(ct,[["__scopeId","data-v-e1c96985"]]);export{dt as default};
