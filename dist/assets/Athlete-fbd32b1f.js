import{c as K,g as X,_ as J,R as ut,r as A,o as x,a as Y,b as C,t as Z,n as at,d as tt,w as ct,e as F,f as st,h as dt,F as lt,i as ht,u as vt,j as ot,k as Dt,l as R,m as it,S as kt}from"./index-64561c81.js";var ft={exports:{}};(function(u,f){(function(i,d){u.exports=d()})(K,function(){var i=1e3,d=6e4,_=36e5,l="millisecond",c="second",$="minute",p="hour",D="day",N="week",g="month",P="quarter",O="year",H="date",et="Invalid Date",_t=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$t=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,pt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var n=["th","st","nd","rd"],t=a%100;return"["+a+(n[(t-20)%10]||n[t]||n[0])+"]"}},G=function(a,n,t){var r=String(a);return!r||r.length>=n?a:""+Array(n+1-r.length).join(t)+a},Mt={s:G,z:function(a){var n=-a.utcOffset(),t=Math.abs(n),r=Math.floor(t/60),e=t%60;return(n<=0?"+":"-")+G(r,2,"0")+":"+G(e,2,"0")},m:function a(n,t){if(n.date()<t.date())return-a(t,n);var r=12*(t.year()-n.year())+(t.month()-n.month()),e=n.clone().add(r,g),s=t-e<0,o=n.clone().add(r+(s?-1:1),g);return+(-(r+(t-e)/(s?e-o:o-e))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:g,y:O,w:N,d:D,D:H,h:p,m:$,s:c,ms:l,Q:P}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},B="en",T={};T[B]=pt;var nt="$isDayjsObject",Q=function(a){return a instanceof z||!(!a||!a[nt])},V=function a(n,t,r){var e;if(!n)return B;if(typeof n=="string"){var s=n.toLowerCase();T[s]&&(e=s),t&&(T[s]=t,e=s);var o=n.split("-");if(!e&&o.length>1)return a(o[0])}else{var y=n.name;T[y]=n,e=y}return!r&&e&&(B=e),e||!r&&B},M=function(a,n){if(Q(a))return a.clone();var t=typeof n=="object"?n:{};return t.date=a,t.args=arguments,new z(t)},h=Mt;h.l=V,h.i=Q,h.w=function(a,n){return M(a,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var z=function(){function a(t){this.$L=V(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[nt]=!0}var n=a.prototype;return n.parse=function(t){this.$d=function(r){var e=r.date,s=r.utc;if(e===null)return new Date(NaN);if(h.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var o=e.match(_t);if(o){var y=o[2]-1||0,m=(o[7]||"0").substring(0,3);return s?new Date(Date.UTC(o[1],y,o[3]||1,o[4]||0,o[5]||0,o[6]||0,m)):new Date(o[1],y,o[3]||1,o[4]||0,o[5]||0,o[6]||0,m)}}return new Date(e)}(t),this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return h},n.isValid=function(){return this.$d.toString()!==et},n.isSame=function(t,r){var e=M(t);return this.startOf(r)<=e&&e<=this.endOf(r)},n.isAfter=function(t,r){return M(t)<this.startOf(r)},n.isBefore=function(t,r){return this.endOf(r)<M(t)},n.$g=function(t,r,e){return h.u(t)?this[r]:this.set(e,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,r){var e=this,s=!!h.u(r)||r,o=h.p(t),y=function(I,b){var W=h.w(e.$u?Date.UTC(e.$y,b,I):new Date(e.$y,b,I),e);return s?W:W.endOf(D)},m=function(I,b){return h.w(e.toDate()[I].apply(e.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(b)),e)},v=this.$W,k=this.$M,S=this.$D,L="set"+(this.$u?"UTC":"");switch(o){case O:return s?y(1,0):y(31,11);case g:return s?y(1,k):y(0,k+1);case N:var j=this.$locale().weekStart||0,q=(v<j?v+7:v)-j;return y(s?S-q:S+(6-q),k);case D:case H:return m(L+"Hours",0);case p:return m(L+"Minutes",1);case $:return m(L+"Seconds",2);case c:return m(L+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,r){var e,s=h.p(t),o="set"+(this.$u?"UTC":""),y=(e={},e[D]=o+"Date",e[H]=o+"Date",e[g]=o+"Month",e[O]=o+"FullYear",e[p]=o+"Hours",e[$]=o+"Minutes",e[c]=o+"Seconds",e[l]=o+"Milliseconds",e)[s],m=s===D?this.$D+(r-this.$W):r;if(s===g||s===O){var v=this.clone().set(H,1);v.$d[y](m),v.init(),this.$d=v.set(H,Math.min(this.$D,v.daysInMonth())).$d}else y&&this.$d[y](m);return this.init(),this},n.set=function(t,r){return this.clone().$set(t,r)},n.get=function(t){return this[h.p(t)]()},n.add=function(t,r){var e,s=this;t=Number(t);var o=h.p(r),y=function(k){var S=M(s);return h.w(S.date(S.date()+Math.round(k*t)),s)};if(o===g)return this.set(g,this.$M+t);if(o===O)return this.set(O,this.$y+t);if(o===D)return y(1);if(o===N)return y(7);var m=(e={},e[$]=d,e[p]=_,e[c]=i,e)[o]||1,v=this.$d.getTime()+t*m;return h.w(v,this)},n.subtract=function(t,r){return this.add(-1*t,r)},n.format=function(t){var r=this,e=this.$locale();if(!this.isValid())return e.invalidDate||et;var s=t||"YYYY-MM-DDTHH:mm:ssZ",o=h.z(this),y=this.$H,m=this.$m,v=this.$M,k=e.weekdays,S=e.months,L=e.meridiem,j=function(b,W,E,U){return b&&(b[W]||b(r,s))||E[W].slice(0,U)},q=function(b){return h.s(y%12||12,b,"0")},I=L||function(b,W,E){var U=b<12?"AM":"PM";return E?U.toLowerCase():U};return s.replace($t,function(b,W){return W||function(E){switch(E){case"YY":return String(r.$y).slice(-2);case"YYYY":return h.s(r.$y,4,"0");case"M":return v+1;case"MM":return h.s(v+1,2,"0");case"MMM":return j(e.monthsShort,v,S,3);case"MMMM":return j(S,v);case"D":return r.$D;case"DD":return h.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return j(e.weekdaysMin,r.$W,k,2);case"ddd":return j(e.weekdaysShort,r.$W,k,3);case"dddd":return k[r.$W];case"H":return String(y);case"HH":return h.s(y,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return I(y,m,!0);case"A":return I(y,m,!1);case"m":return String(m);case"mm":return h.s(m,2,"0");case"s":return String(r.$s);case"ss":return h.s(r.$s,2,"0");case"SSS":return h.s(r.$ms,3,"0");case"Z":return o}return null}(b)||o.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,r,e){var s,o=this,y=h.p(r),m=M(t),v=(m.utcOffset()-this.utcOffset())*d,k=this-m,S=function(){return h.m(o,m)};switch(y){case O:s=S()/12;break;case g:s=S();break;case P:s=S()/3;break;case N:s=(k-v)/6048e5;break;case D:s=(k-v)/864e5;break;case p:s=k/_;break;case $:s=k/d;break;case c:s=k/i;break;default:s=k}return e?s:h.a(s)},n.daysInMonth=function(){return this.endOf(g).$D},n.$locale=function(){return T[this.$L]},n.locale=function(t,r){if(!t)return this.$L;var e=this.clone(),s=V(t,r,!0);return s&&(e.$L=s),e},n.clone=function(){return h.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},a}(),rt=z.prototype;return M.prototype=rt,[["$ms",l],["$s",c],["$m",$],["$H",p],["$W",D],["$M",g],["$y",O],["$D",H]].forEach(function(a){rt[a[1]]=function(n){return this.$g(n,a[0],a[1])}}),M.extend=function(a,n){return a.$i||(a(n,z,M),a.$i=!0),M},M.locale=V,M.isDayjs=Q,M.unix=function(a){return M(1e3*a)},M.en=T[B],M.Ls=T,M.p={},M})})(ft);var wt=ft.exports;const w=X(wt);var yt={exports:{}};(function(u,f){(function(i,d){u.exports=d()})(K,function(){return function(i,d){d.prototype.weekday=function(_){var l=this.$locale().weekStart||0,c=this.$W,$=(c<l?c+7:c)-l;return this.$utils().u(_)?$:this.subtract($,"day").add(_,"day")}}})})(yt);var bt=yt.exports;const gt=X(bt);var mt={exports:{}};(function(u,f){(function(i,d){u.exports=d()})(K,function(){var i="week",d="year";return function(_,l,c){var $=l.prototype;$.week=function(p){if(p===void 0&&(p=null),p!==null)return this.add(7*(p-this.week()),"day");var D=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var N=c(this).startOf(d).add(1,d).date(D),g=c(this).endOf(i);if(N.isBefore(g))return 1}var P=c(this).startOf(d).date(D).startOf(i).subtract(1,"millisecond"),O=this.diff(P,i,!0);return O<0?c(this).startOf("week").week():Math.ceil(O)},$.weeks=function(p){return p===void 0&&(p=null),this.week(p)}}})})(mt);var xt=mt.exports;const St=X(xt);const Ct={name:"CalendarMonthDayItem",components:{RouterLink:ut},props:{day:{type:Object,required:!0},isCurrentMonth:{type:Boolean,default:!1},isToday:{type:Boolean,default:!1},athlete:{type:Object,required:!0},hasWorkout:{type:Boolean,required:!0}},computed:{label(){return w(this.day.date).format("D")}}},Ot={key:1};function Yt(u,f,i,d,_,l){const c=A("font-awesome-icon"),$=A("RouterLink");return x(),Y("li",{class:at(["calendar-day",{"calendar-day--not-current":!i.day.isCurrentMonth,"calendar-day--today":i.isToday}])},[C("span",{class:at(i.isToday?"bg-primary text-white":"")},Z(l.label),3),i.day.isCurrentMonth?(x(),tt($,{key:0,to:`/coach/athlete/${i.athlete.id}/workout/create?date=${i.day.date}`,class:"add-btn btn btn-success"},{default:ct(()=>[F(c,{icon:"fa-solid fa-plus"})]),_:1},8,["to"])):st("",!0),i.hasWorkout?(x(),Y("p",Ot,"Entreno")):st("",!0)],2)}const Wt=J(Ct,[["render",Yt],["__scopeId","data-v-649f2ba7"]]),Tt={name:"CalendarModeSelector",props:{currentDate:{type:String,required:!0},selectedDate:{type:Object,required:!0}},computed:{selectedMonth(){return this.selectedDate.format("MMMM YYYY")}},methods:{selectPrevious(){let u=w(this.selectedDate).subtract(1,"month");this.$emit("dateSelected",u)},selectCurrent(){let u=w(this.currentDate);this.$emit("dateSelected",u)},selectNext(){let u=w(this.selectedDate).add(1,"month");this.$emit("dateSelected",u)}}},jt={class:"p-3"},It={class:"fw-bold calendar-month-header-selected-month text-center"},Nt={class:"d-flex justify-content-between mt-2"};function Ht(u,f,i,d,_,l){return x(),Y("div",jt,[C("h4",It,Z(l.selectedMonth),1),C("div",Nt,[C("span",{onClick:f[0]||(f[0]=(...c)=>l.selectPrevious&&l.selectPrevious(...c)),class:"btn btn-primary"},"<"),C("span",{onClick:f[1]||(f[1]=(...c)=>l.selectCurrent&&l.selectCurrent(...c)),class:"btn btn-secondary"},"Today"),C("span",{onClick:f[2]||(f[2]=(...c)=>l.selectNext&&l.selectNext(...c)),class:"btn btn-primary"},">")])])}const Lt=J(Tt,[["render",Ht]]);const At={class:"day-of-week bg-dark text-white text-center mb-0 fw-bold"},Ft={__name:"CalendarWeekdays",setup(u){const f=dt(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]);return(i,d)=>(x(),Y("ol",At,[(x(!0),Y(lt,null,ht(f.value,_=>(x(),Y("li",{key:_,class:"list-unstyled"},Z(_),1))),128))]))}},Bt=J(Ft,[["__scopeId","data-v-cc5ff95c"]]);w.extend(gt);w.extend(St);const qt={name:"Calendar",components:{CalendarMonthDayItem:Wt,CalendarHeader:Lt,CalendarWeekdays:Bt},props:{athlete:{type:Object,required:!0},workouts:{type:Array,required:!0}},data(){return{selectedDate:w()}},computed:{days(){return[...this.previousMonthDays,...this.currentMonthDays,...this.nextMonthDays]},today(){return w().format("YYYY-MM-DD")},month(){return Number(this.selectedDate.format("M"))},year(){return Number(this.selectedDate.format("YYYY"))},numberOfDaysInMonth(){return w(this.selectedDate).daysInMonth()},currentMonthDays(){return[...Array(this.numberOfDaysInMonth)].map((u,f)=>({date:w(`${this.year}-${this.month}-${f+1}`).format("YYYY-MM-DD"),isCurrentMonth:!0}))},previousMonthDays(){const u=this.getWeekday(this.currentMonthDays[0].date),f=w(`${this.year}-${this.month}-01`).subtract(1,"month"),i=u?u-1:6,d=w(this.currentMonthDays[0].date).subtract(i,"day").date();return[...Array(i)].map((_,l)=>({date:w(`${f.year()}-${f.month()+1}-${d+l}`).format("YYYY-MM-DD"),isCurrentMonth:!1}))},nextMonthDays(){const u=this.getWeekday(`${this.year}-${this.month}-${this.currentMonthDays.length}`),f=w(`${this.year}-${this.month}-01`).add(1,"month"),i=u&&7-u;return[...Array(i)].map((d,_)=>({date:w(`${f.year()}-${f.month()+1}-${_+1}`).format("YYYY-MM-DD"),isCurrentMonth:!1}))}},methods:{getWeekday(u){return w(u).weekday()},selectDate(u){this.selectedDate=u},hasWorkout(u){return this.workouts.some(f=>f.date===u)}}},Et={class:"card mt-5"},Rt={class:"days-grid"};function Pt(u,f,i,d,_,l){const c=A("CalendarHeader"),$=A("CalendarWeekdays"),p=A("CalendarMonthDayItem");return x(),Y("div",Et,[F(c,{"current-date":l.today,"selected-date":_.selectedDate,onDateSelected:l.selectDate,class:"mt-2"},null,8,["current-date","selected-date","onDateSelected"]),F($),C("ol",Rt,[(x(!0),Y(lt,null,ht(l.days,D=>(x(),tt(p,{key:D.date,day:D,"is-today":D.date===l.today,athlete:i.athlete,"has-workout":l.hasWorkout(D.date)},null,8,["day","is-today","athlete","has-workout"]))),128))])])}const Vt=J(qt,[["render",Pt],["__scopeId","data-v-4f63e11a"]]),zt={class:"mt-5"},Ut={key:1},Jt={class:"d-flex justify-content-between"},Zt=C("div",null,null,-1),Gt={class:"d-flex gap-2"},Kt={__name:"Athlete",setup(u){const f=vt(),i=dt(!0);var d=ot({}),_=ot({});async function l(){i.value=!0;try{const c=await it("coach/get-athlete-profile/"+f.params.id),$=await it("coach/get-athlete-workouts/"+f.params.id);d=c.data,_=$.data,console.log(d),i.value=!1}catch(c){console.log(c),i.value=!1}}return Dt(()=>{l()}),(c,$)=>{const p=A("font-awesome-icon");return x(),Y("div",zt,[i.value?(x(),tt(kt,{key:0})):(x(),Y("div",Ut,[C("header",Jt,[Zt,C("h1",null,Z(R(d).name),1),C("div",Gt,[F(R(ut),{to:`/coach/athlete/${R(d).id}/profile`,class:"btn btn-primary py-3 px-4"},{default:ct(()=>[F(p,{icon:"fa-solid fa-user",size:"xl"})]),_:1},8,["to"])])]),C("div",null,[F(Vt,{athlete:R(d),workouts:R(_)},null,8,["athlete","workouts"])])]))])}}};export{Kt as default};
