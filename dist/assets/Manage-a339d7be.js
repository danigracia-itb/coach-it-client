import{_ as k,f as v,g as S,u as A,j as x,r as N,x as P,c as a,a as e,e as n,d as B,l as y,F as M,n as D,o as s,s as w,y as I,t as c,z as T,A as $,B as q,b as r,m as L,p as V,q as z,C as E,D as F,S as H}from"./index-0768fb48.js";import{c as m}from"./coachController-750bf2c1.js";const h=l=>(V("data-v-e902d22b"),l=l(),z(),l),j={class:"mt-5"},O=h(()=>e("h1",{class:"text-center"},"Manage Clients",-1)),Q={key:0,class:"table table-striped mt-5"},R=h(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Name"),e("th",{scope:"col"},"Last Payment"),e("th",{scope:"col"},"Next Payment"),e("th",{scope:"col"},"Quantity"),e("th",{scope:"col"},"Actions")])],-1)),U={class:"d-flex gap-3"},G=["onClick"],J=["onClick"],K=["onClick"],W=["onClick"],X={__name:"Manage",setup(l){const d=v(),_=S(),g=A();function f(o){E(d.getAthleteById(o))}function b(o){F(g.id,o).then(u=>{d.setAthleteLastPayment(o,u)})}return x(()=>{d.athletes.length<=0&&m.getAthletes()}),(o,u)=>{const i=N("font-awesome-icon"),C=P("tooltip");return s(),a("div",null,[e("header",j,[O,n(_).loading?(s(),B(H,{key:0,class:"mt-5"})):y("",!0)]),n(_).loading?y("",!0):(s(),a("table",Q,[R,e("tbody",null,[(s(!0),a(M,null,D(n(d).athletes,t=>(s(),a("tr",{key:t.id,class:w(t.payments.length>0&&n(I)(t.payments[t.payments.length-1].date)?"table-danger":"")},[e("td",null,c(t.id),1),e("td",null,c(t.name),1),e("td",null,c(t.payments.length>0?n(T)(t.payments[t.payments.length-1].date):"No data"),1),e("td",null,c(t.payments.length>0?n($)(t.payments[t.payments.length-1].date,n(q)(t.payments[t.payments.length-1].payment_type)):"No data"),1),e("td",null,c(t.payments.length>0?t.payments[t.payments.length-1].quantity:"No data")+"â‚¬ ",1),e("td",U,[e("button",{class:"btn btn-success",onClick:p=>b(t.id)},[r(i,{icon:"fa-solid fa-add"})],8,G),e("button",{class:"btn btn-info",onClick:p=>f(t.id)},[r(i,{icon:"fa-solid fa-clock-rotate-left"})],8,J),L((s(),a("button",{class:"btn btn-warning",onClick:p=>n(m).sendPaymentReminder(t)},[r(i,{icon:"fa-solid fa-bell"})],8,K)),[[C,"Send payment reminder"]]),e("button",{class:"btn btn-danger",onClick:p=>n(m).deleteAthlete(t.id)},[r(i,{icon:"fa-solid fa-trash"})],8,W)])],2))),128))])]))])}}},tt=k(X,[["__scopeId","data-v-e902d22b"]]);export{tt as default};
